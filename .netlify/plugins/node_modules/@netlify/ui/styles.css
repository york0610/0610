/* The width and height variable is set in DecorativeIcon based on props */
.scalable-icon {
  width: var(--icon-width, '1rem') !important;
  height: var(--icon-height, '1rem') !important;
}
/* Default links */
a,
.link {
  cursor: pointer;

  position: relative;

  font-weight: theme('fontWeight.medium');
  color: theme('colors.teal.action');
  text-decoration-line: none;
  outline: none;
  text-underline-offset: clamp(2px, 0.125em, 3px);
  text-decoration-thickness: clamp(1px, 0.0625em, 4px);

  &:hover {
    text-decoration-line: underline;
  }

  &:focus-visible {
    @apply tw-ring-2 tw-outline-none;

    border-radius: theme('borderRadius.sm');
    transition: none;
  }

  .disabled & {
    color: inherit;
  }

  &.subdued {
    color: theme('colors.textMuted');
  }

  &.placeholder {
    color: theme('colors.placeholder');
  }
}
.tw-dark a,
.tw-dark .link {
  color: theme('colors.teal.DEFAULT');

  &.subdued {
    color: theme('colors.textMuted');
  }

  &.placeholder {
    color: theme('colors.placeholder');
  }
}
/* Thank you Sara Soueidan for this trick to make a whole block clickable
 * based on a link */
.block-link {
  position: static;
  font-weight: inherit;
  color: inherit;

  &::before {
    content: '';

    position: absolute;
    z-index: 0;
    inset: 0;

    display: block;
  }

  &:hover {
    color: inherit;
  }
}
.tw-dark .block-link {
  color: inherit;
}
/* Invisible links have no discerning visual difference from any other text
 * element and they should only be used to enhance the element in terms of
 * functionality */
.invisible-link {
  color: inherit;
  text-decoration-line: none;
}
.tw-dark .invisible-link {
  color: inherit;
}
/* Dark links */
.loud-link {
  font-weight: theme('fontWeight.semibold');
  color: theme('colors.textLoud');

  &:hover {
    color: theme('colors.textLoud');
    text-decoration-line: underline;
  }
}
.tw-dark .loud-link {
  &,
  &:hover {
    color: theme('colors.white');
  }
}
/* Subdued links: used for inline links */
.subdued-link {
  font-weight: inherit;
  color: inherit;

  &:not(.block-link) {
    text-decoration-line: underline;
    text-decoration-color: theme('colors.gray.DEFAULT');

    &:hover {
      color: theme('colors.textLoud');
      text-decoration-color: inherit;
    }
  }
}
.tw-dark .subdued-link {
  color: inherit;
  text-decoration-color: inherit;
}
/* Highlight link, used in OverviewTutorial  */
.highlight-link {
  font-weight: theme('fontWeight.medium');
  color: theme('colors.teal.action');
}
.tw-dark .highlight-link {
  color: theme('colors.teal.lighter');
}
/* Links that are used as a call to action */
.action-link {
  display: inline-block;

  padding-right: theme('spacing.6');

  font-weight: theme('fontWeight.bold');
  color: theme('colors.teal.action');

  background: none;
  border: 0;

  &::after {
    content: 'â†’';
    position: absolute;
    margin-left: theme('spacing.1');
  }

  p & {
    margin-top: theme('spacing.2');
  }

  &.inline {
    margin-top: 0;
  }

  &.action-link--external,
  &[target] {
    &::after {
      transform: rotate(-40deg);
    }
  }
}
.tw-dark .action-link {
  color: theme('colors.teal.lighter');
}
/* Overrides for any link styles defined above
 * for when a link is nested inside the .inverse class (on a dark background) */
.inverse {
  .subdued-link:hover {
    color: theme('colors.white');
  }

  .card {
    .subdued-link:hover {
      color: theme('colors.textLoud');
    }
  }
}
/**
 * Main anchor style is colorTealDarker.
 * For links in tooltips, override with colorTeal.
 */
.tippy-content a {
  color: theme('colors.teal.DEFAULT');
}
/**
 * Locked icon on buttons and links
 */
.icon-locked-top {
  transform-origin: 10px 50%;
  transition: transform 0.1s ease-in-out;

  .unlocked & {
    transform: translateY(0) scale(-1, 1);
  }

  a:hover &,
  .btn:hover & {
    transform: translateY(-1px) scale(1, 1);
  }
}
.btn {
  @apply tw-box-border
    tw-inline-block
    tw-cursor-pointer
    tw-rounded-sm
    tw-align-middle
    tw-font-inherit
    tw-outline-0
    tw-duration-200
    tw-ease-ease
    hover:tw-no-underline
    focus:tw-ring-0
    focus:tw-no-underline
    focus-visible:tw-ring-2
    active:tw-ring-0;
}
.btn-default {
  @apply 
    tw-w-full
    tw-text-center
    md:tw-w-auto;
}
.btn--size-default {
  @apply tw-min-h-9
    tw-px-4
    tw-py-2
    tw-text-base
    tw-font-semibold
    tw-leading-tight;
}
.btn--size-sm {
  @apply tw-min-h-7
    tw-px-3
    tw-py-0.5
    tw-text-sm
    tw-font-medium
    tw-leading-tight;
}
.btn-icon {
  @apply tw-relative
    tw-inline-block
    tw-shrink-0;
}
.btn-icon--size-default {
  @apply
    tw-h-9
    tw-w-9;
}
.btn-icon--size-sm {
  @apply tw-relative
    tw-inline-block
    tw-h-7
    tw-w-7
    tw-shrink-0;
}
.btn--saving {
  @apply tw-bg-loading-stripes
    tw-bg-left-top
    tw-bg-repeat-x
    tw-opacity-54
    tw-pointer-events-none
    motion-safe:tw-animate-loading-stripes;
}
.btn--disabled {
  @apply tw-cursor-not-allowed
    tw-ring-0;
}
.btn--call-for-attention {
  @apply tw-animate-call-for-attention;
}
/* PRIMARY */
.btn-primary {
  @apply focus-visible:tw-ring focus-visible:tw-ring-offset-2;
}
.btn-primary--saving {
  @apply tw-bg-stripes-light
    dark:tw-bg-stripes-dark;
}
.btn-primary--standard {
  @apply tw-bg-teal-lighter
    tw-text-teal-darkest
    hover:tw-bg-teal
    after:tw-from-teal-darker
    dark:tw-bg-teal-lighter
    dark:tw-text-teal-darkest
    dark:hover:tw-bg-teal-lightest
    dark:after:tw-from-teal-lighter;
}
.btn-primary--danger {
  @apply tw-bg-bgDanger
    tw-text-red-lightest
    hover:tw-bg-bgDangerHover
    after:tw-from-red-darker
    dark:tw-text-white
    dark:after:tw-from-red-lighter;
}
.btn-primary--pop {
  @apply tw-bg-blue
    tw-text-blue-lightest
    hover:tw-bg-blue-darker
    after:tw-from-blue-darker
    dark:tw-bg-blue-darker
    dark:tw-text-white
    dark:hover:tw-bg-blue
    dark:after:tw-from-blue-lighter;
}
.btn-primary--disabled {
  @apply disabled:tw-bg-gray
    disabled:tw-text-gray-lighter
    aria-disabled:tw-bg-gray
    aria-disabled:tw-text-gray-lighter
    dark:disabled:tw-bg-gray-darker
    dark:disabled:tw-text-gray-light
    dark:aria-disabled:tw-bg-gray-darker
    dark:aria-disabled:tw-text-gray-light;
}
/* SECONDARY */
.btn-secondary {
  @apply tw-bg-gray-lighter
    after:tw-from-gray-light
    dark:tw-bg-gray-dark
    dark:hover:tw-bg-teal-darkest
    dark:focus:tw-bg-gray-darker
    dark:after:tw-from-gray;
}
.btn-secondary--saving {
  @apply tw-bg-stripes-dark
    dark:tw-bg-stripes-light;
}
.btn-secondary--standard {
  @apply tw-text-black
    hover:tw-bg-teal-lightest
    hover:tw-text-teal-darkest
    dark:tw-text-white
    dark:hover:tw-text-teal-lightest;
}
.btn-secondary--danger {
  @apply tw-text-red-darkest
    hover:tw-bg-red-lighter
    focus:tw-bg-red-lightest
    dark:tw-text-red-lighter
    dark:hover:tw-bg-red-darkest
    dark:focus:tw-bg-red-darkest;
}
.btn-secondary--pop {
  @apply tw-text-blue-darker
    hover:tw-bg-blue-lighter
    focus:tw-bg-blue-lightest
    dark:tw-text-blue-lightest
    dark:hover:tw-bg-blue-darkest
    dark:focus:tw-bg-blue-darkest;
}
.btn-secondary--disabled {
  @apply disabled:tw-bg-gray-lighter
    disabled:tw-text-gray
    aria-disabled:tw-bg-gray-lighter
    aria-disabled:tw-text-gray
    dark:disabled:tw-bg-gray-darker
    dark:disabled:tw-text-gray-light
    dark:aria-disabled:tw-bg-gray-darker
    dark:aria-disabled:tw-text-gray-light;
}
/* TERTIARY */
.btn-tertiary {
  @apply tw-bg-transparent
    after:tw-from-bgApp
    dark:hover:tw-bg-gray-dark
    dark:after:tw-from-bgInverse;
}
.btn-tertiary--saving {
  @apply tw-bg-stripes-dark
    dark:tw-bg-stripes-light;
}
.btn-tertiary--standard {
  @apply tw-text-black
    hover:tw-bg-teal-lightest
    hover:tw-text-teal-darkest
    dark:tw-text-white
    dark:hover:tw-bg-teal-darkest
    dark:hover:tw-text-teal-lightest;
}
.btn-tertiary--danger {
  @apply tw-text-red-darkest
    hover:tw-bg-red-lighter
    dark:tw-text-red-lighter
    dark:hover:tw-bg-red-darkest;
}
.btn-tertiary--pop {
  @apply tw-text-blue-darker
    hover:tw-bg-blue-lighter
    hover:tw-text-blue-darker
    focus:tw-bg-blue-lightest
    focus:tw-text-blue-darker
    dark:tw-text-blue-lighter
    dark:hover:tw-bg-blue-darkest
    dark:hover:tw-text-blue-lightest
    dark:focus:tw-bg-blue-darkest
    dark:focus:tw-text-blue-lightest;
}
.btn-tertiary--disabled {
  @apply disabled:tw-bg-transparent
    disabled:tw-text-gray
    aria-disabled:tw-bg-transparent
    aria-disabled:tw-text-gray
    dark:disabled:tw-bg-transparent
    dark:disabled:tw-text-gray-light
    dark:aria-disabled:tw-bg-transparent
    dark:aria-disabled:tw-text-gray-light;
}
/*
 * GENERIC DROPDOWN
 */
.caret,
summary::after {
  content: ' ';

  position: relative;

  display: inline-block;

  width: calc(theme('spacing.6') / 2);
  height: calc(theme('spacing.6') / 2);
  /* stylelint-disable-next-line declaration-property-unit-allowed-list -- visual adjustment */
  margin-top: -1px; /* hack to push caret up so it looks better beside text */

  vertical-align: middle;

  background-color: theme('colors.black.DEFAULT');

  mask: url('data:image/svg+xml;utf8,<svg height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m4 4 3.4 3.4c.3.4.9.4 1.2 0l3.3-3.4 2.1 2.2-5.4 5.6c-.3.3-.9.3-1.2 0l-5.4-5.6z"/></svg>') no-repeat center center;

  transition: transform 0.1s cubic-bezier(0.07, 0.49, 0, 1.05);

  mask-size: calc(theme('spacing.6') / 2);

  .inverse &,
  .tw-dark & {
    background-color: theme('colors.white');
  }
}
summary[disabled] {
  pointer-events: none;

  &::after {
    content: none;
  }
}
.dropdown.open .caret {
  transform: rotate(-180deg);
}
.dropdown {
  position: relative;
  width: 100%;

  &.disabled {
    opacity: 0.5;
  }

  .meta {
    display: block;
    margin-top: calc(theme('spacing.2') / 2);
    font-weight: normal;
  }

  &.pull-right {
    float: right;
  }

  .caret {
    margin-left: theme('spacing.2');
  }

  @screen md {
    width: auto;
  }
}
.dropdown-inner {
  position: absolute;
  z-index: theme('zIndex.dropdown');
  top: 100%;

  overflow: hidden;

  margin-top: calc(theme('spacing.2') / 2);

  display: none;

  .inverse & {
    color: theme('colors.text');
  }

  .open > & {
    display: block;
  }

  .actions &,
  .pull-right > & {
    right: 0;
    left: auto;
  }
}
.dropdown-menu {
  @apply tw-shadow-deep;

  left: 0;

  min-width: calc(theme('spacing.42') + theme('spacing.10'));
  margin-top: theme('borderWidth.DEFAULT');

  color: theme('colors.text');

  background-color: theme('colors.white');
  background-clip: padding-box;
  border-radius: theme('borderRadius.lg');

  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: auto;

  a,
  .menuitem {
    position: relative;

    display: block;

    width: 100%;
    padding:
      theme('spacing.2') theme('spacing.10') theme('spacing.2')
      theme('spacing.4');

    font-size: theme('fontSize.base');
    font-weight: theme('fontWeight.medium');
    color: theme('colors.textLoud');
    white-space: nowrap;

    @screen until-md {
      white-space: normal;
    }
  }

  a[href],
  .menuitem:not([role='presentation']) {
    &.highlighted,
    &:hover {
      text-decoration-line: none;
      background-color: theme('colors.bgHover');
    }
  }

  .danger {
    color: theme('colors.red.darkest');

    &.highlighted,
    &:hover {
      background-color: theme('colors.red.lightest');
    }
  }

  > li:first-child {
    > a,
    .menuitem {
      padding-top: calc(theme('spacing.6') / 2);
    }
  }

  > li:last-child {
    > a,
    .menuitem {
      padding-bottom: calc(theme('spacing.6') / 2);
    }
  }

  .divider {
    border-top: 1px solid theme('colors.hr');
  }

  li:first-child .divider {
    border-top: 0;
    border-bottom: 2px solid theme('colors.hr');
  }

  .subdued {
    color: theme('colors.textMuted');
  }
}
.tw-dark .dropdown-menu {
  background-color: theme('colors.gray.darkest');

  a[href],
  .menuitem:not([role='presentation']) {
    &.highlighted,
    &:hover {
      background-color: theme('colors.bgHover');
    }
  }

  .danger {
    color: theme('colors.red.lighter');

    &.highlighted,
    &:hover {
      background-color: theme('colors.red.darkest');
    }
  }
}
.dropdown-menu--scrollable {
  overflow-y: auto;
  min-height: var(--scrollableDropdownMinHeight);
  max-height: var(--scrollableDropdownMaxHeight);
}
/* Reserves UI space for bold text, so that text transitioning from normal -> bold doesn't cause layout shift */
.layout-toggleable-bold-text::before {
  content: attr(data-text-content);

  display: block;

  height: 0;

  font-weight: theme('fontWeight.bold');

  visibility: hidden;
}
