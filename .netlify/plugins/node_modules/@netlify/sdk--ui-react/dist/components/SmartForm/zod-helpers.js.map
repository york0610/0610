{"version":3,"file":"zod-helpers.js","sources":["../../../src/components/SmartForm/zod-helpers.ts"],"sourcesContent":["import { ZodEffects, ZodType } from \"zod\";\n\nexport enum ZodFieldType {\n  OBJECT = \"ZodObject\",\n  STRING = \"ZodString\",\n  NUMBER = \"ZodNumber\",\n  BOOLEAN = \"ZodBoolean\",\n}\n\nexport function getZodField(obj: ZodType) {\n  const zodFieldName = getZodFieldTypeName(obj) as ZodFieldType;\n  if (!Object.values(ZodFieldType).includes(zodFieldName)) {\n    throw new Error(\n      `getZodField Error: Only ${Object.values(ZodFieldType).join(`, `)} ZodTypes are supported, received ${zodFieldName}.`,\n    );\n  }\n  // type will be ZodEffects if the schema / field has refine or superRefine effects\n  if (obj instanceof ZodEffects && obj._def.schema instanceof ZodType) {\n    return obj._def.schema;\n  }\n  return obj;\n}\n\n/**\n * Recursively check for obj.innerType, etc to find the deepest `typeName`\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any -- This is a generic zod type, we can't use `unknown` here\nexport function getZodFieldTypeName(obj: ZodType<any, any, any>): string {\n  if (\n    \"schema\" in obj._def &&\n    obj instanceof ZodEffects &&\n    obj._def.schema instanceof ZodType\n  ) {\n    return getZodFieldTypeName(obj._def.schema);\n  }\n\n  if (\"innerType\" in obj._def) {\n    return getZodFieldTypeName((obj._def as { innerType: ZodType }).innerType);\n  }\n\n  if (\n    \"typeName\" in obj._def &&\n    typeof (obj._def as { typeName: unknown }).typeName === \"string\"\n  ) {\n    return (obj._def as { typeName: string }).typeName;\n  }\n  throw new Error(\"getZodFieldTypeName: Unable to determine field type\");\n}\n"],"names":["ZodFieldType"],"mappings":";AAEO,IAAK,iCAAAA,kBAAL;AACLA,gBAAA,QAAA,IAAS;AACTA,gBAAA,QAAA,IAAS;AACTA,gBAAA,QAAA,IAAS;AACTA,gBAAA,SAAA,IAAU;AAJA,SAAAA;AAAA,GAAA,gBAAA,CAAA,CAAA;AAOL,SAAS,YAAY,KAAc;AACxC,QAAM,eAAe,oBAAoB,GAAG;AAC5C,MAAI,CAAC,OAAO,OAAO,YAAY,EAAE,SAAS,YAAY,GAAG;AACvD,UAAM,IAAI;AAAA,MACR,2BAA2B,OAAO,OAAO,YAAY,EAAE,KAAK,IAAI,CAAC,qCAAqC,YAAY;AAAA,IAAA;AAAA,EAEtH;AAEA,MAAI,eAAe,cAAc,IAAI,KAAK,kBAAkB,SAAS;AACnE,WAAO,IAAI,KAAK;AAAA,EAClB;AACA,SAAO;AACT;AAMO,SAAS,oBAAoB,KAAqC;AACvE,MACE,YAAY,IAAI,QAChB,eAAe,cACf,IAAI,KAAK,kBAAkB,SAC3B;AACA,WAAO,oBAAoB,IAAI,KAAK,MAAM;AAAA,EAC5C;AAEA,MAAI,eAAe,IAAI,MAAM;AAC3B,WAAO,oBAAqB,IAAI,KAAgC,SAAS;AAAA,EAC3E;AAEA,MACE,cAAc,IAAI,QAClB,OAAQ,IAAI,KAA+B,aAAa,UACxD;AACA,WAAQ,IAAI,KAA8B;AAAA,EAC5C;AACA,QAAM,IAAI,MAAM,qDAAqD;AACvE;"}