{"version":3,"file":"vite_plugin_watch_packages.js","sources":["../../../../node_modules/.pnpm/escape-string-regexp@5.0.0/node_modules/escape-string-regexp/index.js","../../src/unstable/vite_plugin_watch_packages.ts"],"sourcesContent":["export default function escapeStringRegexp(string) {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when it’s always valid, and a `\\xnn` escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n}\n","import escapeRegexp from \"escape-string-regexp\";\nimport type { Plugin, ViteDevServer } from \"vite\";\n\n/**\n * @internal\n * @experimental\n */\nexport const watchPackages = (packageNames: string[]): Plugin => {\n  return {\n    name: \"vite-plugin-watch-packages\",\n\n    configureServer: (server: ViteDevServer): void => {\n      server.watcher.options = {\n        ...server.watcher.options,\n        ignored: [\n          ...(server.watcher.options.ignored !== undefined\n            ? Array.isArray(server.watcher.options.ignored)\n              ? server.watcher.options.ignored\n              : [server.watcher.options.ignored]\n            : []),\n          ...packageNames.map(\n            (packageName) =>\n              new RegExp(`node_modules/${escapeRegexp(packageName)}.*`),\n          ),\n        ],\n      };\n    },\n  };\n};\n"],"names":["escapeRegexp"],"mappings":"AAAe,SAAS,mBAAmB,QAAQ;AAClD,MAAI,OAAO,WAAW,UAAU;AAC/B,UAAM,IAAI,UAAU,mBAAmB;AAAA,EACxC;AAIA,SAAO,OACL,QAAQ,uBAAuB,MAAM,EACrC,QAAQ,MAAM,OAAO;AACxB;ACHO,MAAM,gBAAgB,CAAC,iBAAmC;AAC/D,SAAO;AAAA,IACL,MAAM;AAAA,IAEN,iBAAiB,CAAC,WAAgC;AAChD,aAAO,QAAQ,UAAU;AAAA,QACvB,GAAG,OAAO,QAAQ;AAAA,QAClB,SAAS;AAAA,UACP,GAAI,OAAO,QAAQ,QAAQ,YAAY,SACnC,MAAM,QAAQ,OAAO,QAAQ,QAAQ,OAAO,IAC1C,OAAO,QAAQ,QAAQ,UACvB,CAAC,OAAO,QAAQ,QAAQ,OAAO,IACjC,CAAA;AAAA,UACJ,GAAG,aAAa;AAAA,YACd,CAAC,gBACC,IAAI,OAAO,gBAAgBA,mBAAa,WAAW,CAAC,IAAI;AAAA,UAAA;AAAA,QAC5D;AAAA,MACF;AAAA,IAEJ;AAAA,EAAA;AAEJ;","x_google_ignoreList":[0]}