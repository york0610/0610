const {
  asyncEnsureIterable
} = require('./async-iterable.js');

const {
  __asyncToArray
} = require('../impls/$to-array/async-to-array.js');

const {
  __asyncMap
} = require('../impls/$map/async-map.js');

async function asyncSeqsToArray(values) {
  return await __asyncToArray(__asyncMap(values, value => __asyncToArray(asyncEnsureIterable(value))), arr => arr.length > 0);
}

exports.asyncSeqsToArray = asyncSeqsToArray;